<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.26" />
  <meta name="author" content="Joshua Crotts">
  <meta name="description" content="Computer Science Student">
  <link rel='shortcut icon' type='image/x-icon' href='img/favicon.ico' />
  <link rel="stylesheet" href="./css/highlight.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw=="
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.0/css/academicons.min.css"
    integrity="sha512-GGGNUPDhnG8LEAEDsjqYIQns+Gu8RBs4j5XGlxl7UfRaZBhCCm5jenJkeJL8uPuOXGqgl8/H1gjlWQDRjd3cUQ=="
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="../../css/hugo-academic.css">
  <link rel="stylesheet" href="../../css/styles.css">
  <link href="../../css/prism.css" rel="stylesheet" />
  <script>
    window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
    ga('create', 'UA-104968519-1', 'auto');
    ga('require', 'eventTracker');
    ga('require', 'outboundLinkTracker');
    ga('require', 'urlChangeTracker');
    ga('send', 'pageview');
  </script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"
    integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g=="
    crossorigin="anonymous"></script>
  <script src="../../js/prism.js"></script>
  <link rel="alternate" href="./index.xml" type="application/rss+xml" title="Joshua Crotts">
  <link rel="feed" href="./index.xml" type="application/rss+xml" title="Joshua Crotts">
  <link rel="icon" type="image/png" href="../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../img/apple-touch-icon.png">
  <link rel="canonical" href="./">
  <title>Joshua Crotts</title>
</head>

<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">
  <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #0f2044;" id="navbar-main">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse"
          aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="./">Joshua Crotts</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li class="nav-item">
            <a href="../../index.html" data-target="#about">
              <span>Home</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../../courses.html" alt="Courses">
              <span>Courses</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../../research.html" alt="Research">
              <span>Research</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../../projects.html" alt="Projects">
              <span>Projects</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../../tutorials.html" alt="Tutorials">
              <span>Tutorials</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../../contact.html" , alt="Contact">
              <span>Contact</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <section id="courses" class="home-section">
    <div class="container">
      <div class="row" style="text-align: justify;">
        <h1>Multithreaded Chat Server in C and Java!</h1>
        <p>Building the server - Part 1</p>
        <p class="author">Author: Joshua Crotts</p>
        <p class="author">Date: 2021/05/17</p>
        <p>To begin, we are going to create a GitHub repository for our project. You can do this on your own, but I
          called mine <code>Multithreaded-Chat-Server-Tutorial</code>. Once you do this, clone it to your computer
          wherever you would like, but preferably a location that you can access through the terminal easily (since
          we’ll be running a lot of commands like <code>make</code> and whatnot). </p>
        <p>Now, inside this repository folder, it will either be blank, or contain a file or two, depending on how you
          set it up. We need to create a few things:</p>
        <ol>
          <li>First, create a directory called <code>src</code>. This is where all of the C source <code>.c</code> files
            will be stored.</li>
          <li>Then, create a directory called <code>include</code>. This will be where we store all header files
            <code>.h</code>.
          </li>
          <li>Create a file called <code>.gitignore</code> (with no extension!). Because we are using GitHub, there are
            some files that we don’t want to upload to the remote repository like the executables and object files that
            are generated from compiling the program. We’ll come back to this file a bit later. </li>
          <li>Lastly, create a file called Makefile (no extension!). A makefile is essential to any large C project – it
            makes compilation and linking a breeze!</li>
        </ol>
        <p><i>Note: Some people may disagree with this file structure – keeping the source and include files separate.
            You can structure the project however you want, but this is how I like to do it.</i></p>
        <p>So, your directory should look like this:</p>
        <center><img src="mcsimages/dir1.png" /></center>
        <br />
        <p>Open this root folder in a developer environment (that can be Vim, Visual Studio Code (VSCode), or whatever
          else – I’ll be using VSCode). Now it’s time to start coding!</p>

        <p>The first thing we’re going to actually write is the server itself. A server receives connections from
          clients and dispatches messages across them. For our purposes, the server is going to receive commands and
          messages from the client (user), and it will handle them accordingly. There’s a lot that goes into this, so
          we’ll break it down one step at a time. For now, let’s just handle getting <i>a</i> connection established.
        </p>

        Create a file called <code>server.c</code> in the <code>src</code> directory and <code>server.h</code> in the
        include directory. We’ll start off with the header file. We need a few definitions to get started: namely the
        connection IP to use, some function prototypes, and constants. Let’s just jump right into it:
        <pre class="line-numbers">
          <code class="language-clike">
        #ifndef SERVER_H
        #define SERVER_H
       
        typedef struct server_s {
          int socket_fd;   /* Socket file descriptor. */
          int flags;       /* Flags for the server.   */
        } server_t;
       
        enum SERVER_FLAGS {
            SERVER_ACTIVE = 1
        };
       
        extern server_t server;
       
        extern void server_init( void );
       
        #endif // SERVER_H
            </code>
            </pre>
      </div>
    </div>
  </section>
</body>

</html>